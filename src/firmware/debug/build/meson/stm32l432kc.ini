[host_machine]
system = 'smeg'
subsystem = 'stm32l432kc'
kernel = 'none'
cpu_family = 'arm'
cpu = 'armv7m'
endian = 'little'

[constants]
toolchain = '/opt/arm/local/cortex-m4f/bin'
arch = 'arm-none-eabi'
libcrt0_arm_srcdir = libcrt0_srcdir / 'mcu/arm/cortex/m4'
libcrt0_st_srcdir = libcrt0_srcdir / 'mcu/st/stm32/stm32l432kc'

[properties]
linker_script = libcrt0_st_srcdir / 'linker/stm32l432kc.ld'
libcrt0_mcu_srcfiles = [
	libcrt0_arm_srcdir / 'Isrs.cc',
	libcrt0_arm_srcdir / 'IsrVectorTable.cc',
	libcrt0_st_srcdir / '_resetHandler.cc',
	libcrt0_st_srcdir / 'Isrs.cc',
	libcrt0_st_srcdir / 'IsrVectorTable.cc']

[built-in options]
cpp_rtti = false
cpp_args = ['-mcpu=cortex-m4', '-mthumb', '-mfpu=fpv4-sp-d16', '-mfloat-abi=hard']

[binaries]
cpp = toolchain / arch + '-g++'
ar = toolchain / arch + '-ar'
ld = toolchain / arch + '-ld'
strip = toolchain / arch + '-strip'
objcopy = toolchain / arch + '-objcopy'
